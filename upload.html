<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Clip Portal - Upload</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body data-page="upload">
  <canvas id="starfield" aria-hidden="true"></canvas>
  <div class="bg-glow" aria-hidden="true"></div>
  <div class="noise-overlay" aria-hidden="true"></div>

  <div class="app">
    <header class="top-nav">
      <div class="nav-pill">
        <div class="nav-left">
          <a class="brand" href="index.html">CLIP PORTAL</a>
          <nav class="nav-links">
            <a class="nav-link" href="index.html">Discover</a>
            <a class="nav-link active" href="upload.html" data-requires-auth="true">Upload</a>
            <a class="nav-link" href="dashboard.html" data-auth="in" data-requires-auth="true">Dashboard</a>
          </nav>
        </div>
        <div class="nav-right">
          <div class="auth-buttons" data-auth="out">
            <a class="btn ghost" href="login.html">Log in</a>
            <a class="btn primary" href="signup.html">Sign up</a>
          </div>
          <div class="profile-ghost" data-auth="out" aria-hidden="true"></div>
          <div class="profile-area" data-auth="in">
            <button id="profile-button" class="profile-button" aria-haspopup="true" aria-expanded="false">U</button>
            <div id="profile-dropdown" class="profile-dropdown">
              <a href="dashboard.html">Dashboard</a>
              <a href="upload.html">Upload</a>
              <button type="button" data-action="logout">Log out</button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section class="page-header reveal" style="--delay: 0ms;">
        <h1>Upload a new clip</h1>
        <p class="subhead">Share your footage with the community in a few clicks.</p>
      </section>

      <section class="upload-layout">
        <!-- Upload form -->
        <form id="upload-form" class="glass card reveal" style="--delay: 120ms;">
          <div class="field">
            <label for="clip-title">Title</label>
            <input id="clip-title" name="title" type="text" placeholder="Midnight skyline" required>
          </div>
          <div class="field">
            <label for="clip-tags">Tags (optional)</label>
            <input id="clip-tags" name="tags" type="text" placeholder="city, night, timelapse">
          </div>
          <div class="field">
            <label for="clip-file">Video file</label>
            <input id="clip-file" name="file" type="file" accept="video/*" required>
          </div>
          <div id="upload-progress" class="progress">
            <div class="progress-fill"></div>
          </div>
          <div id="upload-error" class="form-error" role="alert"></div>
          <button class="btn primary full" type="submit">Upload clip</button>
        </form>

        <!-- Tips panel -->
        <aside class="upload-side glass reveal" style="--delay: 200ms;">
          <h3>Upload tips</h3>
          <ul class="tips">
            <li>Keep titles short and descriptive.</li>
            <li>Tag with locations, subjects, or moods.</li>
            <li>MP4 exports work best for previews.</li>
          </ul>
        </aside>
      </section>

      <section id="upload-preview" class="upload-preview"></section>
    </main>
  </div>

  <div id="toast-container" class="toast-container" aria-live="polite"></div>

  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-card glass">
      <h3 id="modal-title">Confirm</h3>
      <p id="modal-body">Are you sure?</p>
      <div class="modal-actions">
        <button class="btn ghost" data-modal-cancel>Cancel</button>
        <button class="btn danger" data-modal-confirm>Confirm</button>
      </div>
    </div>
  </div>

  <div id="cursor-dot" class="cursor-dot"></div>
  <div id="cursor-ring" class="cursor-ring"></div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="app.js"></script>
</body>
</html>