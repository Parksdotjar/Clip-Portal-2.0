<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Clip Portal - Discover</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body data-page="discover">
  <!-- Shared layout: nav, cinematic background, and discover grid powered by app.js -->
  <canvas id="starfield" aria-hidden="true"></canvas>
  <div class="bg-glow" aria-hidden="true"></div>
  <div class="noise-overlay" aria-hidden="true"></div>

  <div class="app">
    <header class="top-nav">
      <div class="nav-pill">
        <div class="nav-left">
          <a class="brand" href="index.html">CLIP PORTAL</a>
          <nav class="nav-links">
            <a class="nav-link active" href="index.html">Discover</a>
            <a class="nav-link" href="upload.html" data-requires-auth="true">Upload</a>
            <a class="nav-link" href="dashboard.html" data-auth="in" data-requires-auth="true">Dashboard</a>
          </nav>
        </div>
        <div class="nav-right">
          <div class="auth-buttons" data-auth="out">
            <a class="btn ghost" href="login.html">Log in</a>
            <a class="btn primary" href="signup.html">Sign up</a>
          </div>
          <div class="profile-ghost" data-auth="out" aria-hidden="true"></div>
          <div class="profile-area" data-auth="in">
            <button id="profile-button" class="profile-button" aria-haspopup="true" aria-expanded="false">U</button>
            <div id="profile-dropdown" class="profile-dropdown">
              <a href="dashboard.html">Dashboard</a>
              <a href="upload.html">Upload</a>
              <button type="button" data-action="logout">Log out</button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <!-- Hero and search (search only appears on this page) -->
      <section class="hero">
        <div class="hero-content reveal" style="--delay: 0ms;">
          <p class="eyebrow">Discover</p>
          <h1>Find the perfect clip in seconds.</h1>
          <p class="subhead">Search a global library of premium video snippets. Upload and share your own moments.</p>
        </div>
        <div class="search-card glass reveal" style="--delay: 120ms;">
          <label class="sr-only" for="search-input">Search clips</label>
          <div class="search-input">
            <span class="icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M15.5 14h-.8l-.3-.3a5.5 5.5 0 1 0-.9.9l.3.3v.8L20 21.2 21.2 20l-5.7-6zM10 15.5A5.5 5.5 0 1 1 10 4.5a5.5 5.5 0 0 1 0 11z"/>
              </svg>
            </span>
            <input id="search-input" type="search" placeholder="Search by title" autocomplete="off">
            <span class="search-hint">Press Enter</span>
          </div>
        </div>
      </section>

      <section class="clip-section">
        <div class="section-header reveal" style="--delay: 0ms;">
          <h2>Latest clips</h2>
          <p>Public uploads from the community.</p>
        </div>
        <div id="clip-grid" class="clip-grid" data-stagger></div>
        <div class="load-more-wrap">
          <button id="load-more" class="btn ghost">Load more</button>
        </div>
      </section>
    </main>
  </div>

  <div id="toast-container" class="toast-container" aria-live="polite"></div>

  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-card glass">
      <h3 id="modal-title">Confirm</h3>
      <p id="modal-body">Are you sure?</p>
      <div class="modal-actions">
        <button class="btn ghost" data-modal-cancel>Cancel</button>
        <button class="btn danger" data-modal-confirm>Confirm</button>
      </div>
    </div>
  </div>

  <div id="cursor-dot" class="cursor-dot"></div>
  <div id="cursor-ring" class="cursor-ring"></div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="app.js"></script>
</body>
</html>
